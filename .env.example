# Wingman Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# Slack Configuration
# ============================================================================

# Required: Bot User OAuth Token (starts with xoxb-)
# Used for: Posting messages, reading channels, bot operations
# Scope: See docs/slack-auth.md for required scopes
SLACK_BOT_TOKEN=xoxb-your-bot-token-here

# Required: App-Level Token (starts with xapp-)
# Used for: Socket Mode connection (recommended for development)
# Note: Only needed if using Socket Mode
SLACK_APP_TOKEN=xapp-your-app-token-here

# Required: Signing Secret
# Used for: Verifying requests from Slack
# Found in: Slack App Settings > Basic Information
SLACK_SIGNING_SECRET=your-signing-secret-here

# Optional: User OAuth Token (starts with xoxp-)
# Used for: User-level actions (reading private messages, etc.)
# Note: Only needed for specific user actions
SLACK_USER_TOKEN=

# Optional: Session Token for User Impersonation (starts with xoxc-)
# Used for: Posting messages as a user (e.g., testing scripts)
# Warning: Session tokens are personal and should be kept secret
SLACK_XOXC_TOKEN=

# Optional: Session Token D-Cookie (starts with xoxd-)
# Used with SLACK_XOXC_TOKEN for browser-authenticated requests
# Get from: Browser Storage > Cookies (web.slack.com)
SLACK_XOXD_TOKEN=

# Optional: Channel ID for Message Posting
# Used for: Scripts that post messages to a specific channel
# Format: C followed by alphanumeric (e.g., C0A22MB87HJ)
SLACK_CHANNEL_ID=

# Optional: Team/Workspace ID
# Used for: Session token authentication (required for user impersonation)
# Format: T followed by alphanumeric (e.g., TGVLNUB2S)
# Get from: Browser console: window.slackData.team_id
SLACK_TEAM_ID=

# Optional: Slack Organization URL
# Used for: API endpoints in messaging scripts
# Format: https://your-workspace.slack.com
# Example: https://johnnyhuy.slack.com
SLACK_ORG_URL=

# Optional: OAuth Credentials (for OAuth flow)
# Used for: Installing the app via OAuth
SLACK_CLIENT_ID=
SLACK_CLIENT_SECRET=

# ============================================================================
# Terraform Configuration
# ============================================================================

# Terraform Cloud organization and workspace
TF_CLOUD_ORGANIZATION=
TF_WORKSPACE=wingman

# Terraform Cloud authentication token
# Get from: https://app.terraform.io/app/settings/tokens
TF_TOKEN_app_terraform_io=

# Slack App Configuration tokens (for Terraform manifest management)
# Used by Terraform to manage Slack app manifest
SLACK_APP_CONFIGURATION_TOKEN=
SLACK_REFRESH_TOKEN=

# ============================================================================
# AI/LLM Configuration
# ============================================================================

# Option 1: OpenRouter (Recommended)
# Get your API key from: https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-your-openrouter-key-here

# Option 2: OpenAI (Alternative)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# LLM Model to use
# OpenRouter format: "openai/gpt-4-turbo-preview", "anthropic/claude-3-opus"
# OpenAI format: "gpt-4-turbo-preview", "gpt-3.5-turbo"
LLM_MODEL=openai/gpt-4-turbo-preview

# LLM Settings
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2000

# ============================================================================
# Database Configuration
# ============================================================================

# PostgreSQL connection (docker-compose handles this automatically)
DATABASE_URL=postgresql://wingman:wingman@postgres:5432/wingman

# For local development outside Docker:
# DATABASE_URL=postgresql://wingman:wingman@localhost:5432/wingman

# ============================================================================
# Vector Store Configuration
# ============================================================================

# Chroma settings (docker-compose handles this automatically)
CHROMA_HOST=chroma
CHROMA_PORT=8000
CHROMA_COLLECTION=slack_messages

# For local development outside Docker:
# CHROMA_HOST=localhost
# CHROMA_PORT=8001

# ============================================================================
# RAG Configuration
# ============================================================================

# Embedding model for vector search
EMBEDDING_MODEL=text-embedding-ada-002

# Text chunking settings
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# Retrieval settings
RETRIEVAL_TOP_K=5

# ============================================================================
# Application Configuration
# ============================================================================

# Debug mode (set to true for development)
DEBUG=false

# Server settings
HOST=0.0.0.0
PORT=8000

# Frontend API URL
NEXT_PUBLIC_API_URL=http://localhost:8000
